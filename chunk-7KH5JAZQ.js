import{g as b,n as d}from"./chunk-BP5TLSKF.js";import{A as j,Q as m,S as y,U as f,Y as u,a as p,n as g,o as T,s as r}from"./chunk-OJB3JNYL.js";var A=()=>0;function x(n,o,v){let t=p({},n),e=p({},v?t[v]:t);for(let a of Object.keys(e))for(let i of o)typeof t[i]=="string"&&(t[i]=t[i].replaceAll(`{${a}}`,e[a]));return t}var F=(()=>{let o=class o{constructor(t,e){this.httpClient=t,this.transloco=e}get faq(){return this.getData("faq").pipe(r(t=>this.formatToMapped(t,"section")))}get tools(){return this.getData("tools").pipe(r(t=>this.formatToMapped(t,"category")))}get imageGuis(){return this.getData("image-guis").pipe(r(t=>t.map(e=>x(e,["description","downloadButtonText"]))),r(t=>this.formatToMapped(t,"categories")))}get textGuis(){return this.getData("text-guis").pipe(r(t=>t.map(e=>x(e,["description","downloadButtonText"]))),r(t=>this.formatToMapped(t,"categories")))}get privacyPolicy(){return this.getData("privacy").pipe(r(t=>{let e=this.formatToMapped(t,"section"),a=new Map;return e.forEach((i,s)=>{let l=this.formatToMapped(i.map(M=>{let c=p({},M);if(c.context!==void 0)for(let w of Object.keys(c.context)){let h=c.context[w],L;switch(h.valueType){case"date":L=new Intl.DateTimeFormat(this.transloco.getActiveLang(),{dateStyle:"long",timeStyle:void 0}).format(new Date(h.value));break;default:throw new Error(`Unsupported type: ${h.valueType}`)}c.text=c.text.replaceAll(`{${w}}`,L)}return c}),"subsection");a.set(s,l)}),a}))}formatToMapped(t,e){let a=new Map;for(let i of t){let s=i[e];s===null&&(s=[""]),Array.isArray(s)||(s=[s]);for(let l of s)a.has(l)||a.set(l,[]),a.get(l).push(i)}return a}getData(t){return this.httpClient.get(`/assets/data/${t}.${this.transloco.getActiveLang()}.json`).pipe(j(e=>e.status!==404?T(()=>e):this.httpClient.get(`/assets/data/${t}.en.json`)))}};o.\u0275fac=function(e){return new(e||o)(u(b),u(d))},o.\u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var O=(()=>{let o=class o{constructor(t){this.transloco=t,this.loadedLanguages=[]}get(t,e){return this.loadCurrentLanguage().pipe(r(()=>this.transloco.translate(t,e)))}loadCurrentLanguage(){return g(void 0).pipe(m(()=>{let t=this.transloco.getActiveLang();return this.loadedLanguages.includes(t)?g(null):this.transloco.load(t)}),y(t=>{if(t===null)return;let e=this.transloco.getActiveLang();this.loadedLanguages.push(e)}),m(()=>{let t=this.transloco.config.fallbackLang;return this.loadedLanguages.includes(t)?g(void 0):this.transloco.load(t)}),y(t=>{if(t===null)return;let e=this.transloco.config.fallbackLang;this.loadedLanguages.push(e)}),r(()=>{}))}};o.\u0275fac=function(e){return new(e||o)(u(d))},o.\u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();export{A as a,F as b,O as c};
